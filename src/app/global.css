@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme {
  --font-icon: Material Symbols Rounded;

  --gap-almost-same: 0.25rem;
  --gap-close: 0.5rem;
  --gap-same-level: 1.25rem;
  --gap-other-level: 2rem;
  --gap-other-level-large: 3.75rem;
  --gap-same: unset;

  --margin-almost-same: 0.25rem;
  --margin-close: 0.5rem;
  --margin-same-level: 1.25rem;
  --margin-other-level: 2rem;
  --margin-other-level-large: 3.75rem;
  --margin-same: unset;
  --margin-gap-1\/12: calc(
    100% * 1 / var(--grid-cols, 12) - (var(--grid-cols, 12) - 1) *
      (var(--grid-gap, 1.25rem) / 12)
  );
  --margin-gap-2\/12: calc(
    100% * 2 / var(--grid-cols, 12) - (var(--grid-cols, 12) - 2) *
      (var(--grid-gap, 1.25rem) / 12)
  );
  --margin-gap-3\/12: calc(
    100% * 3 / var(--grid-cols, 12) - (var(--grid-cols, 12) - 3) *
      (var(--grid-gap, 1.25rem) / 12)
  );
  --margin-gap-4\/12: calc(
    100% * 4 / var(--grid-cols, 12) - (var(--grid-cols, 12) - 4) *
      (var(--grid-gap, 1.25rem) / 12)
  );
  --margin-gap-5\/12: calc(
    100% * 5 / var(--grid-cols, 12) - (var(--grid-cols, 12) - 5) *
      (var(--grid-gap, 1.25rem) / 12)
  );
  --margin-gap-6\/12: calc(
    100% * 6 / var(--grid-cols, 12) - (var(--grid-cols, 12) - 6) *
      (var(--grid-gap, 1.25rem) / 12)
  );
  --margin-gap-7\/12: calc(
    100% * 7 / var(--grid-cols, 12) - (var(--grid-cols, 12) - 7) *
      (var(--grid-gap, 1.25rem) / 12)
  );
  --margin-gap-8\/12: calc(
    100% * 8 / var(--grid-cols, 12) - (var(--grid-cols, 12) - 8) *
      (var(--grid-gap, 1.25rem) / 12)
  );
  --margin-gap-9\/12: calc(
    100% * 9 / var(--grid-cols, 12) - (var(--grid-cols, 12) - 9) *
      (var(--grid-gap, 1.25rem) / 12)
  );
  --margin-gap-10\/12: calc(
    100% * 10 / var(--grid-cols, 12) - (var(--grid-cols, 12) - 10) *
      (var(--grid-gap, 1.25rem) / 12)
  );
  --margin-gap-11\/12: calc(
    100% * 11 / var(--grid-cols, 12) - (var(--grid-cols, 12) - 11) *
      (var(--grid-gap, 1.25rem) / 12)
  );

  /* Neutral dark color scheme (default). Override by loading warlock.css or wizard.css. */
  --color-page: #0f1216;

  --color-primary-main: #4a5568;
  --color-primary-hover: #5a6578;
  --color-primary-pressed: #3d4752;
  --color-primary-text: #4a5568;
  --color-primary-transparent: rgba(74, 85, 104, 0.1);
  --color-primary-icon: #4a5568;
  --color-primary-icon-hover: #a0aec0;
  --color-primary-transparent-icon: rgba(160, 174, 192, 0.09);
  --color-primary-transparent-icon-hover: rgba(160, 174, 192, 0.15);

  --color-secondary-main: #718096;
  --color-secondary-hover: #8192a8;
  --color-secondary-pressed: #5c6b80;
  --color-secondary-text: #8b98a8;
  --color-secondary-icon: #a0aec0;
  --color-secondary-icon-hover: #a0aec0;
  --color-secondary-transparent-icon: rgba(160, 174, 192, 0.09);
  --color-secondary-transparent-icon-hover: rgba(160, 174, 192, 0.15);

  --color-tool-main: #8b98a8;
  --color-tool-hover: #718096;
  --color-tool-pressed: #5c6b80;
  --color-tool-text: #0f1216;
  --color-tool-transparent: transparent;
  --color-tool-icon: #8b98a8;
  --color-tool-icon-hover: #718096;
  --color-tool-transparent-icon: transparent;
  --color-tool-transparent-icon-hover: transparent;

  --color-light-main: #a0aec0;
  --color-light-hover: #90a0b0;
  --color-light-pressed: #a0aec0;
  --color-light-text: #0f1216;
  --color-light-transparent: rgba(160, 174, 192, 0.09);
  --color-light-icon: #a0aec0;
  --color-light-icon-hover: #90a0b0;
  --color-light-transparent-icon: rgba(160, 174, 192, 0.09);
  --color-light-transparent-icon-hover: rgba(160, 174, 192, 0.15);

  --color-remove-main: #ff6b6b;
  --color-remove-hover: #ff5252;
  --color-remove-pressed: #ff3838;
  --color-remove-text: #0f1216;
  --color-remove-transparent: rgba(255, 107, 107, 0.1);
  --color-remove-icon: #a0aec0;
  --color-remove-icon-hover: #a0aec0;
  --color-remove-transparent-icon: rgba(160, 174, 192, 0.09);
  --color-remove-transparent-icon-hover: rgba(160, 174, 192, 0.15);

  --color-block-100: #1a1f26;
  --color-block-200: #252b33;
  --color-block-300: #2d3542;
  --color-block-400: #363d4a;
  --color-block-500: #151a20;
  --color-block-600: #0f1318;
  --color-block-700: #0c0f13;
  --color-block-800: #080a0d;
  --color-block-900: #050608;

  --color-menu: #151a20;

  --color-form-main: #151a20;
  --color-form-disabled: #1a1f26;
  --color-form-border: #718096;

  --color-gradient-from-link: #151a20;
  --color-gradient-to-link: #718096;

  --color-mask: #151a20;

  --color-title: #8b98a8;
  --color-text: #a0aec0;
  --color-light: #a0aec0;
  --color-accent: #718096;
  --color-info: #5c6b80;
  --color-success: #4ecdc4;
  --color-warning: #ffa94d;

  --z-index-under-mask: 100;

  --z-index-popup-mask: 900;

  --z-index-select: 1100;
  --z-index-modal: 1050;
  --z-index-snackbar: 1100;
  --z-index-top: 2000;

  --radius-button: 0.5rem;

  /* Region basic spacing rule */
  /* padding steps */
  --padding-step-tiny: 0.25rem;
  --padding-step-xs: 0.5rem;
  --padding-step-2xs: 0.625rem;
  --padding-step-3xs: 0.75rem;
  --padding-step-sm: 1rem;
  --padding-step-2sm: 1.125rem;
  --padding-step-md: 1.25rem;
  --padding-step-lg: 1.5rem;
  --padding-step-2lg: 1.875rem;
  --padding-step-xl: 2rem;
  --padding-step-2xl: 2.5rem;
  --padding-step-3xl: 3rem;
  --padding-step-4xl: 3.5rem;
  /* outer spacing */
  --gap-none: 0; /* same elements */
  --gap-tight: var(
    --padding-step-tiny
  ); /* almost same elements, like icon and text */
  --gap-close: var(
    --padding-step-xs
  ); /* very close elements, like checkbox and label */
  --gap-same-level-close: var(
    --padding-step-3xs
  ); /* same level elements, like two inputs in the form, but more close than usual */
  --gap-same-level: var(
    --padding-step-sm
  ); /* same level elements, like two inputs in the form */
  --gap-distant: var(
    --padding-step-lg
  ); /* distant elements, like two sections in the page */
  --gap-extra-distant: var(
    --padding-step-4xl
  ); /* extra distant elements, like two sections in the page far away */
  --margin-none: var(--gap-none);
  --margin-tight: var(--gap-tight);
  --margin-close: var(--gap-close);
  --margin-same-level-close: var(--gap-same-level-close);
  --margin-same-level: var(--gap-same-level);
  --margin-distant: var(--gap-distant);
  --margin-extra-distant: var(--gap-extra-distant);
  /* inner spacing by types */
  --padding-card: var(--padding-step-3xs) var(--padding-step-2lg)
    var(--padding-step-3xl) var(--padding-step-2lg);
  --padding-card-small: var(--padding-step-md) var(--padding-step-lg)
    var(--padding-step-xl) var(--padding-step-lg);
  --padding-panel: var(--padding-step-lg) var(--padding-step-2lg);
  --padding-panel-small: var(--padding-step-md) var(--padding-step-lg);
  --padding-panel-tiny: var(--padding-step-tiny) var(--padding-step-xs);
  --padding-action: var(--padding-step-xs) var(--padding-step-sm);
  --padding-action-small: var(--padding-step-tiny) var(--padding-step-sm);
  --padding-form-element: var(--padding-step-xs) var(--padding-step-sm);
  /* Endregion basic spacing rule */

  /* Region ui-settings */
  --padding-button: var(--padding-step-xs) var(--padding-step-sm);
  --padding-button-small: var(--padding-step-tiny) var(--padding-step-sm);
  --height-button: calc(2 * var(--padding-step-xs) + 1.5rem);
  --height-button-small: calc(2 * var(--padding-step-tiny) + 1.5rem);
  --height-form-element: 3rem;
  --height-input-fieldset: calc(var(--height-form-element) + 0.75rem);
  --height-form-small-element: 1.25rem;
  --width-form-small-element: 1.25rem;
  --height-form-element-sign: 0.75rem;
  --width-form-element-sign: 0.75rem;
  --radius-button: 1rem;
  --radius-form-element: 0.75rem;
  /* Endregion ui-settings */
}

@layer utilities {
  .soft-edges {
    -webkit-mask-image:
      linear-gradient(to top, transparent, black 15%, black 85%, transparent),
      linear-gradient(to left, transparent, black 15%, black 85%, transparent);
    -webkit-mask-composite: intersect;
    mask-image:
      linear-gradient(to top, transparent, black 15%, black 85%, transparent),
      linear-gradient(to left, transparent, black 15%, black 85%, transparent);
    mask-composite: intersect;
    mask-mode: alpha;
    mask-repeat: no-repeat;
    mask-size: cover;
  }
  .prose-obsidian {
    @apply prose prose-invert prose-code:text-wrap prose-em:text-block-300 prose-li:text-wrap prose-pre:min-h-fit;
  }
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

html {
  color: var(--color-text);
  font-size: 16px;
  line-height: 16px;
}

.character-sheet {
  color: var(--color-text);
  background-color: var(--color-page);
}

body {
  overflow: hidden;
  background-color: var(--color-page);
}

a {
  text-decoration: none;
}

/* custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background-color: var(--color-mask);
}

::-webkit-scrollbar-thumb {
  background-color: var(--color-secondary-main);
  border-radius: 20px;
  border: 0px solid transparent;
  background-clip: content-box;
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-tool-main);
}

@layer utilities {
  .col-span {
    /* базовый расчёт (fallback значения внутри var()) */
    width: calc(
      100% * var(--grid-span, 1) / var(--grid-cols, 12) -
        (var(--grid-cols, 12) - var(--grid-span, 1)) *
        (var(--grid-gap, 1.25rem) / var(--grid-cols, 12))
    );
    margin-left: calc(
      100% * var(--grid-offset, 0) / var(--grid-cols, 12) +
        var(--grid-gap, 1.25rem) * var(--grid-offset, 0) / var(--grid-cols, 12)
    );
  }

  @media (width < 40rem) {
    .col-span {
      width: calc(
        100% * var(--grid-span-sm, var(--grid-span, 1)) / var(--grid-cols, 12) -
          (var(--grid-cols, 12) - var(--grid-span-sm, var(--grid-span, 1))) *
          (var(--grid-gap, 1.25rem) / var(--grid-cols, 12))
      );
      margin-left: calc(
        100% * var(--grid-offset-sm, var(--grid-offset, 0)) /
          var(--grid-cols, 12) + var(--grid-gap, 1.25rem) *
          var(--grid-offset-sm, var(--grid-offset, 0)) / var(--grid-cols, 12)
      );
    }
  }

  /* sm (width >= 40rem = 640px) */
  @media (width >= 40rem) {
    .col-span {
      width: calc(
        100% * var(--grid-span-sm, var(--grid-span, 1)) / var(--grid-cols, 12) -
          (var(--grid-cols, 12) - var(--grid-span-sm, var(--grid-span, 1))) *
          (var(--grid-gap, 1.25rem) / var(--grid-cols, 12))
      );
      margin-left: calc(
        100% * var(--grid-offset-sm, var(--grid-offset, 0)) /
          var(--grid-cols, 12) + var(--grid-gap, 1.25rem) *
          var(--grid-offset-sm, var(--grid-offset, 0)) / var(--grid-cols, 12)
      );
    }
  }

  /* md (width >= 48rem = 768px) */
  @media (width >= 48rem) {
    .col-span {
      width: calc(
        100% * var(--grid-span-md, var(--grid-span-sm, var(--grid-span, 1))) /
          var(--grid-cols, 12) -
          (
            var(--grid-cols, 12) -
              var(--grid-span-md, var(--grid-span-sm, var(--grid-span, 1)))
          ) *
          (var(--grid-gap, 1.25rem) / var(--grid-cols, 12))
      );
      margin-left: calc(
        100% * var(--grid-offset-md, var(--grid-offset, 0)) /
          var(--grid-cols, 12) + var(--grid-gap, 1.25rem) *
          var(--grid-offset-md, var(--grid-offset, 0)) / var(--grid-cols, 12)
      );
    }
  }

  /* lg (width >= 64rem = 1024px) */
  @media (width >= 64rem) {
    .col-span {
      width: calc(
        100% * var(--grid-span-lg, var(--grid-span-md, var(--grid-span, 1))) /
          var(--grid-cols, 12) -
          (
            var(--grid-cols, 12) -
              var(--grid-span-lg, var(--grid-span-md, var(--grid-span, 1)))
          ) *
          (var(--grid-gap, 1.25rem) / var(--grid-cols, 12))
      );
      margin-left: calc(
        100% * var(--grid-offset-lg, var(--grid-offset, 0)) /
          var(--grid-cols, 12) + var(--grid-gap, 1.25rem) *
          var(--grid-offset-lg, var(--grid-offset, 0)) / var(--grid-cols, 12)
      );
    }
  }

  /* xl (width >= 80rem = 1280px) */
  @media (width >= 80rem) {
    .col-span {
      width: calc(
        100% * var(--grid-span-xl, var(--grid-span-lg, var(--grid-span, 1))) /
          var(--grid-cols, 12) -
          (
            var(--grid-cols, 12) -
              var(--grid-span-xl, var(--grid-span-lg, var(--grid-span, 1)))
          ) *
          (var(--grid-gap, 1.25rem) / var(--grid-cols, 12))
      );
      margin-left: calc(
        100% * var(--grid-offset-xl, var(--grid-offset, 0)) /
          var(--grid-cols, 12) + var(--grid-gap, 1.25rem) *
          var(--grid-offset-xl, var(--grid-offset, 0)) / var(--grid-cols, 12)
      );
    }
  }
}
